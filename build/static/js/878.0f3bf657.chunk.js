"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[878],{337:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var r,o=n(168),s=n(791),c=n(880),a=n(523),m=n(249),u=n(152),i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},d=new Uint8Array(16);function l(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(d)}for(var h=[],f=0;f<256;++f)h.push((f+256).toString(16).slice(1));function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase()}var p,j=function(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();var r=(e=e||{}).random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return x(r)},_=n(995),g=n(853),v=n(556),N="CommentItem_item__Xu-6v",C=n(184),b=function(e){return(0,C.jsx)("li",{className:N,children:(0,C.jsx)("p",{children:e.text})})},U="CommentsList_comments__XbhPV",y=function(e){return(0,C.jsx)("ul",{className:U,children:e.comments.map((function(e){return(0,C.jsx)(b,{text:e.text},e.id)}))})},I="Comments_comments__sFU-7",w="NewCommentForm_form__8L1Zf",q="NewCommentForm_control__71vVE",Z="NewCommentForm_actions__XGX5N",k=function(e){var t=e.onAddComment,n=e.quoteId,r=(0,s.useRef)(),o=(0,_.Z)(g.Ir),c=o.sendRequest,a=o.status,m=o.error;(0,s.useEffect)((function(){"completed"!==a||m||t()}),[a,m,t]);var u=function(e){e.preventDefault();var t=r.current.value;c({commentData:{text:t},quoteId:n})};return(0,C.jsxs)("form",{className:w,onSubmit:u,children:["completed"===a&&(0,C.jsx)("div",{className:"centered",children:(0,C.jsx)(v.Z,{})}),(0,C.jsxs)("div",{className:q,onSubmit:u,children:[(0,C.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,C.jsx)("textarea",{id:"comment",rows:"5",ref:r})]}),(0,C.jsx)("div",{className:Z,children:(0,C.jsx)("button",{className:"btn",children:"Add Comment"})})]})},A=function(){var e=(0,s.useState)(!1),t=(0,u.Z)(e,2),n=t[0],r=t[1],o=(0,c.UO)(),a=j(),m=o.quoteId,i=(0,_.Z)(g.h_),d=i.sendRequest,l=i.status,h=i.data;console.log(o.quoteId),(0,s.useEffect)((function(){d(m)}),[d,m]);var f,x=(0,s.useCallback)((function(){d(m)}),[d,m]);return"pending"===l&&(f=(0,C.jsx)("div",{className:"centered",children:(0,C.jsx)(v.Z,{})})),"completed"===l&&(h||h.length>0)&&(f=(0,C.jsx)(y,{comments:h})),"completed"!==l||h&&0!==h.length||(f=(0,C.jsx)("p",{className:"centered",children:"No comments is added yet"})),(0,C.jsxs)("section",{className:I,children:[(0,C.jsx)("h2",{children:"User Comments"}),!n&&(0,C.jsx)("button",{className:"btn",onClick:function(){r(!0)},children:"Add a Comment"}),n&&(0,C.jsx)(k,{quoteId:a,onAddComment:x}),f]})},D=n(444),F="HighlightedQuote_quote__ikxZg",R=function(e){return(0,C.jsxs)("figure",{className:F,children:[(0,C.jsx)("p",{children:e.text}),(0,C.jsx)("figcaption",{children:e.author})]})};var V=function(e){var t=e.quotes,n=(0,c.UO)(),r=(0,c.$B)(),o=t.find((function(e){return e.id===n.quotesId}));return o?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(R,{text:o.text,author:o.author}),(0,C.jsx)(c.AW,{path:r.path,exact:!0,children:(0,C.jsx)("div",{className:"centered",children:(0,C.jsxs)(a.rU,{className:"btn--flat",to:"".concat(r.url,"/comments"),children:[" ","View comments"]})})}),(0,C.jsx)(c.AW,{path:"".concat(r.path,"/comments"),children:(0,C.jsx)(A,{})})]})}):(0,C.jsx)(S,{children:"No Qoute Found!"})},S=D.ZP.p.attrs((function(e,t){return{className:e}}))(p||(p=(0,o.Z)(["\n  margin: 2rem 0;\n  text-transform: uppercase;\n  font-weight: 600;\n  text-align: center;\n  margin-top: auto;\n  margin-bottom: auto;\n"])))}}]);
//# sourceMappingURL=878.0f3bf657.chunk.js.map